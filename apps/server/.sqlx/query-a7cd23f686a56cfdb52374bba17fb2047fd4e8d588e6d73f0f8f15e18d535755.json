{
  "db_name": "PostgreSQL",
  "query": "WITH RECURSIVE\n  folder_tree AS (\n    SELECT DISTINCT\n      f.id,\n      f.title,\n      f.parent_id\n    FROM\n      folders f\n      LEFT JOIN user_feeds uf ON uf.folder_id = f.id\n      LEFT JOIN bookmarks b ON b.folder_id = f.id\n    WHERE\n      f.user_id = $1\n      AND (\n        (\n          $2\n          AND uf.id IS NOT NULL\n        )\n        OR (\n          $3\n          AND b.id IS NOT NULL\n        )\n      )\n    UNION\n    SELECT\n      f.id,\n      f.title,\n      f.parent_id\n    FROM\n      folders f\n      INNER JOIN folder_tree ft ON f.id = ft.parent_id\n    WHERE\n      f.user_id = $1\n  )\nSELECT DISTINCT\n  id AS \"id!\",\n  title AS \"title!\",\n  parent_id\nFROM\n  folder_tree;\n",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "id!",
        "type_info": "Uuid"
      },
      {
        "ordinal": 1,
        "name": "title!",
        "type_info": "Text"
      },
      {
        "ordinal": 2,
        "name": "parent_id",
        "type_info": "Uuid"
      }
    ],
    "parameters": {
      "Left": [
        "Uuid",
        "Bool",
        "Bool"
      ]
    },
    "nullable": [
      null,
      null,
      null
    ]
  },
  "hash": "a7cd23f686a56cfdb52374bba17fb2047fd4e8d588e6d73f0f8f15e18d535755"
}
